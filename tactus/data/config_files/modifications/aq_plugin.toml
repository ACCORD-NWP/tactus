[impact.aq]
  active = true
  config_name = "@WRK@/aq.toml"
  path = "@AQ_PATH@"
  poetry = "@AQ_POETRY@"

[impact.aq.communicate.air_quality_general.common_api]
  archive_in = "@ARCHIVE@"
  archive_out = "@AQ_ARCHIVE@/@AQ_MODEL@"
  basetime = "@BASETIME@"
  forecast_range = "@FORECAST_RANGE@"
  wrk = "@AQ_WRK@/@AQ_MODEL@"

[impact.aq.communicate.air_quality_general.domain]
  latitude_midpoint = 48.801825
  longitude_midpoint = 18.111565
  nwp_domain = "central_eu"
  nx = 251
  ny = 201

[impact.aq.communicate.air_quality_general.nwp]
  archive_path = "@ARCHIVE@"
  file_templates = ["GRIBPFDEOD+*s", "GRIBTACTUS+*", "GRIBDEOD+*.sfx"]
  ifs_path = "/scratch/aut6432/DE_NWP/deode/IFS/atos_bologna_DT"
  nwp_cycle = "@CYCLE@"
  nwp_model = "@CSC@"
  surfex_physiography = "@CLIMDIR@/Const.Clim@ONE_DECADE@.sfx"
  surfex_physiography_grib1 = "@SURFEX_PHYSIOGRAPHY@.grib1"
  surfex_physiography_grib2 = "@SURFEX_PHYSIOGRAPHY@.grib2"

[impact.aq.communicate.domain]
  tstep = 1

[impact.aq.communicate.scheduler.ecfvars.troika]
  config_file = "@AQ_PATH@/dwaq/data/config_files/troika.yml"

[impact.aq.communicate.troika]
  config_file = "@AQ_PATH@/dwaq/data/config_files/troika.yml"

[impact.aq.StartImpactModels]
  arguments = [
    "dwaq case --config-file @ARCHIVE_ROOT@/config.toml ?@AQ_PATH@/dwaq/data/config_files/configurations/all_aq_plugin @WRK@/aq.toml -e -o @WRK@/aq_config.toml --case-name @CASE@_AQ",
    "deode start suite --config-file @WRK@/aq_config.toml -f @WRK@/aq.def",
  ]

[macros.select.aq_macros]
  gen_macros = [
    {aq_path = "platform.impact.aq.path"},
    {aq_poetry = "platform.impact.aq.poetry"},
    {xlatcen = "domain.xlatcen"},
    {xloncen = "domain.xloncen"},
  ]
