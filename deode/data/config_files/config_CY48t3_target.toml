[general]
  accept_static_namelists = false
  case = "@CYCLE@_@CSC@_@DOMAIN@"
  cnmexp = "DEOD"
  csc = "AROME"
  cycle = "CY48t3"
  keep_workdirs = true
  mars_expver = "0001"
  nproma = -32
  realization = -1
  surfex = true
  tstep = 30

[general.output_settings]
  fullpos = "PT15M"
  history = ["PT1H"]
  nrazts = "PT1H"
  surfex = ["PT1H"]

[general.times]
  cycle_length = "PT1H"
  end = "2023-09-16T02:00:00Z"
  forecast_range = "PT3H"
  radiation_frequency = "PT5M"
  start = "2023-09-16T01:00:00Z"

[boundaries]
  bd_has_surfex = true
  bdcycle = "PT6H"
  bdint = "PT1H"
  bdmodel = "arome"
  bdshift = "PT0H"
  bdstrategy = "same_forecast"
  bdtasks_per_batch = 24

[fullpos]
  config_path = "@DEODE_HOME@/deode/namelist_generation_input/@CYCLE@/fullpos"
  selection = ["rules", "namfpc_header", "master_selection"]

[include]
  domain = "include/domains/DEMO_80x90_1000m.toml"
  file_templates = "include/file_templates.toml"
  macros = "include/macros.toml"
  platform = "include/platform_paths/atos_bologna.toml"
  submission = "include/submission/atos_bologna_CY48t3.toml"
  vertical_levels = "include/vertical_levels/MF_90.toml"

[suite_control]
  cold_start = false
  create_static_data = true
  create_time_dependent_suite = true
  do_marsprep = false
  do_pgd = true
  do_prep = true
  do_soil = false
  interpolate_boundaries = true

[system]
  archive = "@ARCHIVE_ROOT@/@YYYY@/@MM@/@DD@/@HH@/"
  bdclimdir = "@HOST_CASE@/climate/@HOST_DOMAIN@"
  bddir = "@HOST_CASE@/archive/@YYYY@/@MM@/@DD@/@HH@"
  bddir_sfx = "@HOST_CASE@/archive/@YYYY@/@MM@/@DD@/@HH@"
  bdfile_sfx_template = "@BDFILE_TEMPLATE@.sfx"
  bdfile_template = "ICMSH@CNMEXP@+@DURATION_FA@"
  casedir = "@SCRATCH@/deode/@CASE@"
  climdir = "@CASEDIR@/climate/@DOMAIN@"
  global_sfcdir = "/hpcperm/snh02/climate_fields_mir/climate.v020_MIR_orog/"
  host_case = "@CASEDIR@/../@CYCLE@_@CSC@"
  host_domain = "DEMO_60x80_2500m"
  intp_bddir = "@WRK@"
  logs = "@ARCHIVE_ROOT@/logs"
  marsdir = "@SCRATCH@/deode/IFS/@YYYY@/@MM@/@DD@/@HH@/@MARS_EXPVER@"
  marsfile_template = "mars_prefetch_[levtype]_[date]_[time]+[step]"
  namelists = "@DEODE_HOME@/deode/data/namelists/@CYCLE@"
  sfx_input_defs = "@DEODE_HOME@/deode/data/input/sfx_input_@CYCLE@.json"
  wrk = "@CASEDIR@/@YYYY@@MM@@DD@_@HH@@mm@"

[task.creategrib.conversions.surfex]
  input_template = "@SURFEX_TEMPLATE@"
  output_template = "sfx_@YYYY@-@MM@-@DD@T@HH@@mm@@ss@+@DURATION_ARCHIVE@.grib"

[troika]
  config_file = "@DEODE_HOME@/deode/data/config_files/troika.yml"
