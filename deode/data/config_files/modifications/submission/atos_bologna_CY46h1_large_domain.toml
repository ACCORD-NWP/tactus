[submission]
    bindir = "/perm/deployde330/github-actions/install/cy46h1-v1.1.0/install/bin"

[submission.gnu.BATCH]
  MEM = "#SBATCH --mem=64GB"
  WALLTIME = "#SBATCH --time=03:00:00"

[submission.task_exceptions.C903]
  bindir = "/perm/deployde330/github-actions/install/cy48t3-v1.1.1/install/bin"

[submission.task_exceptions.C903.ENV]
  DR_HOOK_SIGNALS = -1

[submission.task_exceptions.Forecast]
  # This is optimised for a 1500x1500 domain
  NPROC = 624
  NPROC_IO = 16
  NPROCX = 24
  NPROCY = 26
  OMP_NUM_THREADS = "4"
  WRAPPER = "srun @DEODE_HOME@/data/config_files/include/submission/omp_wrapper"

[submission.task_exceptions.Forecast.BATCH]
  CPUSPERTASK = "#SBATCH --cpus-per-task=4"
  HYPERTHREAD = "#SBATCH --hint=nomultithread"
  NODES = "#SBATCH --nodes=20"
  NTASKS = "#SBATCH --ntasks-per-node=32"
  WALLTIME = "#SBATCH --time=08:00:00"

[submission.task_exceptions.Forecast.ENV]
  KMP_AFFINITY = "granularity=core,scatter"
  KMP_BLOCKTIME = "12"
  KMP_STACKSIZE = "4G"

[submission.task_exceptions.Gmted.BATCH]
  MEM = "#SBATCH --mem=32GB"

[submission.task_exceptions.IOmerge.BATCH]
  WALLTIME = "#SBATCH --time=08:00:00"

[submission.task_exceptions.Marsprep.BATCH]
  WALLTIME = "#SBATCH --time=06:00:00"

[submission.task_exceptions.Pgd]
  binary = "PGD-offline"
  WRAPPER = "srun -n @NPROC@"

[submission.task_exceptions.Pgd.BATCH]
  NODES = "#SBATCH --nodes=2"
  NTASKS = "#SBATCH --ntasks=32"
  WALLTIME = "#SBATCH --time=03:00:00"

[submission.task_exceptions.Prep]
  binary = "PREP-offline"

[submission.task_exceptions.Prep.BATCH]
  NODES = "#SBATCH --nodes=2"
  NTASKS = "#SBATCH --ntasks=32"
  WALLTIME = "#SBATCH --time=00:50:00"
