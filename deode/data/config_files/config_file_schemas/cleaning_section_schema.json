{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "CleaningSection",
    "description": "Model for validation of the cleaning configuration.",
    "type": "object",
    "additionalProperties": true,
    "properties": {
        "defaults": {
            "type": "object",
            "properties": {
                "include": {
                    "description": "regular experssion according to it which files to clean",
                    "type": "string"
                },
                "ncycles_delay": {
                    "description": "number of cycle_length periods with which the cleaning is shifted to the experiment start day to the past.",
                    "type": "number"
                },
                "cleaning_delay": {
                    "description": "time period with which the cleaning is shifted to the experiment start day to the past. Should be a multiple of general.times.cycle_length.",
                    "type": "string",
                    "format": "duration"
                },
                "cleaning_max_delay": {
                    "description": "time period which defines the cleaning according to the cleaning_delay to the past. Should be a multiple of general.times.cycle_length.",
                    "type": "string",
                    "format": "duration"
                },
                "step": {
                    "description": "time step which determines moments when to make a cleaning, should be a multiple of general.times.cycle_length.",
                    "type": "string",
                    "format": "duration"
                },
                "active": {
                    "description": "Activate cleaning files",
                    "type": "boolean"
                },
                "dry_run": {
                    "description": "test cleaning without to  delete files",
                    "type": "boolean"
                }
            },
            "oneOf": [
                {
                    "required": [
                        "include",
                        "ncycles_delay",
                        "active"
                    ]
                },
                {
                    "required": [
                        "include",
                        "cleaning_delay",
                        "cleaning_max_delay",
                        "active"
                    ]
                }
            ]
        },
        "Cleaning_example": {
            "type": "object",
            "properties": {
                "$ref": "#/$CLEANING_FOLDER_SETTINGS"
            },
            "required": [
                "path"
            ]
        }
    },
    "required": [
        "defaults"
    ],
    "$CLEANING_FOLDER_SETTINGS": {
        "path": {
            "description": "path to the folder where files will be cleaned",
            "type": "string"
        },
        "include": {
            "description": "regular expression for files to select for cleaning",
            "type": "string",
            "default": "(.*)"
        },
        "exclude": {
            "description": "regular expression for files to explicitly exclude from cleaning",
            "type": "string"
        },
        "ncycles_delay": {
            "description": "number of cycle_length periods with which the cleaning is shifted to the experiment start day to the past.",
            "type": "number"
        },
        "cleaning_delay": {
            "description": "time period with which the cleaning is shifted to the experiment start day to the past. Should be a multiple of general.times.cycle_length.",
            "type": "string",
            "format": "duration"
        },
        "cleaning_max_delay": {
            "description": "time period which defines the cleaning according to the cleaning_delay to the past. Should be a multiple of general.times.cycle_length.",
            "type": "string",
            "format": "duration"
        },
        "step": {
            "description": "time step which determines moments when to make a cleaning, should be a multiple of general.times.cycle_length.",
            "type": "string",
            "format": "duration"
        },
        "active": {
            "description": "Activate cleaning files",
            "type": "boolean"
        },
        "dry_run": {
            "description": "test cleaning without to  delete files",
            "type": "boolean"
        }
    }
}